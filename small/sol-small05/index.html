
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="description" content ="CS 61A: Structure and Interpretation of Computer Programs" />
    <meta name="keywords" content ="CS 61A, Computer Science, CS, 61A, Programming, John DeNero, Berkeley, EECS" />
    <meta name="author" content ="Satish Rao" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-throttle-debounce/1.1/jquery.ba-throttle-debounce.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="/assets/js/hl.js"></script>
    <script src="/assets/js/toggledarkmode.js"></script>
    <script>
        // we aren't registering builtins since
        //      (1) they don't render differently in the current CSS from other names
        //      (2) it's a mess to list all of them. You can extract from the site but that takes effort
        // if (1) ceases to be true, (2) might be worth the effort. For now, we're leaving as is
        hljsRegister({
            'keyword': "define if cond and or let begin lambda mu quote delay cons-stream set! quasiquote unquote unquote-splicing define-macro"
        });
        hljs.initHighlightingOnLoad();
    </script>
    <script src="/assets/js/dark-mode.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata|Roboto:300,400,500|Work+Sans:400,700">
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="/assets/css/mono-blue.css">
    <link rel="icon" href="/assets/images/favicon.ico">

    

<link rel="stylesheet" type="text/css" href="/assets/css/disc.css">


    <title>
Small Discussion 5 | CS 61A Fall 2023
</title>
  </head>

  <body id="index" class="home">
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container noselect">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-section">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">
            <img style="max-width:60px; margin-top: -20px;" class="logo" src="/assets/images/logo.png"/>
          </a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse-section">
          <ul class="nav navbar-nav navbar-right">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Calendar
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="/weekly">Weekly Schedule</a></li>
                <li><a href="/office-hours">Office Hours</a></li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Links
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="https://sections.cs61a.org">Sections Tool</a></li>
                <li><a href="https://oh.cs61a.org">Office Hours Queue</a></li>
                <li><a href="https://go.cs61a.org/regrades">Request a Regrade</a></li>
                <li><a href="https://go.cs61a.org/zoom-lecture">Rao Zoom Lecture</a></li>
                <li><a href="https://berkeley.zoom.us/j/98407898918">DeNero Zoom Lecture</a></li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Staff
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="/instructor">Instructors</a></li>
                <li><a href="/TAs">Rao TAs</a></li>
                <li><a href="/TAs2">DeNero TAs</a></li>
                <li><a href="/tutors">Rao Tutors</a></li>
                <li><a href="/tutors2">DeNero Tutors</a></li>
                <li><a href="/academic-interns">Rao Academic Interns</a></li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="https://go.cs61a.org/extensions">Request an Extension</a></li>
                <li><a href="https://go.cs61a.org/regrades">Request a Regrade</a></li>
                <li><a href="/articles/accommodations">Book an Accommodations Appointment</a></li>
                <li><a href="/resources/">Topical Resources + Past Exams</a></li>
                <li><a href="https://tutor.cs61a.org/">PythonTutor</a></li>
                <li><a href="https://code.cs61a.org/">Code</a></li>
                <li><a href="https://edstem.org/us/courses/42930/discussion/" target="_blank">Ed</a></li>
                <li><a href="/articles/campus-res/">Department/Campus Resources</a></li>
              </ul>
            </li>
            <li><a href="/articles/about">Syllabus</a></li>
            <li><a href="/denero.html">DeNero</a></li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Rao
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="/">Rao Site</a></li>
                <li><a href="https://go.cs61a.org/zoom-lecture">Rao Zoom Lecture</a></li>
              </ul>
            </li>
            <li><a href="/contact/">Contact</a></li>
            <li>
              <label class="switch">
                <input type="checkbox" id="toggle-mode-cb">
                <span class="slider round"></span>
              </label>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main id="content" class="container">
      
<div class='row'>
  <div class='col-md-9'>
    <header>
      <h1>
        
DeNero Discussion 5: Trees, Data Abstraction

        
        
        <ul class="inline-block list-inline">
          <li><a href="small05.pdf" class="label label-outline">small05.pdf</a></li>
        </ul>
        
        
      </h1>
    </header>
    

<div class="alert storable-login-status"></div>


    
<h1 id="getting-started">Getting Started</h1>


<p>Everyone go around and say your name, just in case someone forgot.</p>

<p>Think of a big word with at least three syllables, such as "solitary" or
"conundrum" or "ominous". Write it down privately so that you can show everyone
at the end. Try to use it as many times as you can during today's discussion,
but in ways that don't give away that it's your big word. At the end, your group
will try to guess each person's big word. Whoever uses their big word the most
times (and at least twice) without their group guessing it wins.  (You win
nothing; it's just a game.)</p>

<p>Someone from your group should join <a href="https://cs61a.org/articles/discord">Discord</a>.</p>

<p><strong>To get help from a TA</strong>, send a message to the <code>discuss&#x2d;queue</code> channel with
the @discuss tag and your discussion group number.</p>

<p>If you have only 1 or 2 people in your group, you can join the other group in
the room with you.</p>

<p>The most common suggestion from last discussion was to add some hints, so we have.
The second most common suggestion was to encourage more discussion and collaboration.
Discuss and collaborate!</p>


<h1 id="trees">Trees</h1>


<p>For a tree <code>t</code>:</p>

<ul>
  <li>Its root label can be any value, and <code>label(t)</code> returns it.</li>
  <li>Its branches are trees, and <code>branches(t)</code> returns a list of branches.</li>
  <li>An identical tree can be constructed with <code>tree(label(t), branches(t))</code>.</li>
  <li>You can call functions that take trees as arguments, such as <code>is_leaf(t)</code>.</li>
  <li>That's how you work with trees. No <code>t == x</code> or <code>t[0]</code> or <code>x in t</code> or <code>list(t)</code>, etc.</li>
  <li>There's no way to change a tree (that doesn't violate an abstraction barrier).</li>
</ul>

<p>Here's an example tree <code>t1</code>, for which its branch <code>branches(t1)[1]</code> is <code>t2</code>.</p>

<pre><code class="python">t2 = tree(5, [tree(6), tree(7)])
t1 = tree(3, [tree(4), t2])</code></pre>



<p><img class="img-responsive center-block" src="assets/example_tree_illustration.png" alt="Example Tree" width="100%" height=""></p>

<p>A path is a sequence of trees in which each is the parent of the next.</p>


        <button id='toggle-1' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Tree Implementation<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-1">

<p>You don't need to know how <code>tree</code>, <code>label</code>, and <code>branches</code> are implemented in
order to use them correctly, but here is the implementation from lecture.</p>

<pre><code class="python">def tree(label, branches=[]):
    for branch in branches:
        assert is_tree(branch), &#x27;branches must be trees&#x27;
    return [label] + list(branches)

def label(tree):
    return tree[0]

def branches(tree):
    return tree[1:]

def is_leaf(tree):
    return not branches(tree)

def is_tree(tree):
    if type(tree) != list or len(tree) &lt; 1:
        return False
    for branch in branches(tree):
        if not is_tree(branch):
            return False
    return True</code></pre>


</div>


<h3 id="q1-warm-up">Q1: Warm Up</h3>


<p>What does this expression evaluate to?</p>

<pre><code>label(min(branches(max([t1, t2], key=label)), key=label))</code></pre>



<div class="sol-highlight">

<p><strong>Solution</strong></p>

<p>6: <code>max([t1, t2], key=label)</code> evaluates to the <code>t2</code> tree because its label 5 is
larger than <code>t1</code>'s label 3. Among <code>t2</code>'s branches (which are leaves), the left one
labeled 6 has a smaller label.</p>

</div>

<p>How convoluted! (That's a big word.) Talk about it with your group. When you all
agree, post your answer to your group's Discord
<a href="https://support.discord.com/hc/en-us/articles/4412085582359-Text-Channels-Text-Chat-In-Voice-Channels#h_01FMJT412WBX1MR4HDYNR8E95X">channel's text chat</a>.</p>


        <button id='toggle-2' class='btn btn-outline btn-lg alwaystoggle toggle'>
        What does key do?<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-2">

<p>If no one in your group knows how <code>key</code> functions work with <code>max</code> and <code>min</code>,
here's a quick refresher.</p>

<p><code>max(s, key=f)</code> returns the item <code>x</code> in <code>s</code> for which <code>f(x)</code> is largest.</p>

<pre><code class="python">&gt;&gt;&gt; s = [&#x2d;3, &#x2d;5, &#x2d;4, &#x2d;1, &#x2d;2]
&gt;&gt;&gt; max(s)
&#x2d;1
&gt;&gt;&gt; max(s, key=abs)
&#x2d;5
&gt;&gt;&gt; max([abs(x) for x in s])
5</code></pre>



<p>Therefore, <code>max([t1, t2], key=label)</code> returns the tree with the largest label,
in this case <code>t2</code>.
</div></p>

<p>In case you're wondering, this expression does not violate an abstraction
barrier. <code>[t1, t2]</code> and <code>branches(t)</code> are both lists (not trees), and so it's
fine to call <code>min</code> and <code>max</code> on them.</p>

<div class="page-break"></div>


<h3 id="q2-has-path">Q2: Has Path</h3>


<p>Implement <code>has_path</code>, which takes a tree <code>t</code> and a list <code>p</code>. It returns whether
there is a path from the root of <code>t</code> with labels <code>p</code>. For example, <code>t1</code> has a
path from its root with labels <code>[3, 5, 6]</code> but not <code>[3, 4, 6]</code> or <code>[5, 6]</code>.</p>

<p><strong>Important</strong>: Before trying to implement this function, discuss these questions
from lecture about the recursive call of a tree processing function:</p>

<ul>
  <li>What recursive calls will you make?</li>
  <li>What type of values do they return?</li>
  <li>What do the possible return values mean?</li>
  <li>How can you use those return values to complete your implementation?</li>
</ul>

<p>If you get stuck, you can view our answers to these questions by clicking the
hint button below, but <em>please</em> don't do that until your whole group agrees.</p>


        <button id='toggle-3' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Hint: Describing the Recursive Call<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-3">
<strong>What recursive calls will you make?</strong>

<p>As you usual, you will call <code>has_path</code> on each branch <code>b</code>. You'll make this
call after comparing <code>p[0]</code> to <code>label(t)</code>, and so the second argument to
<code>has_path</code> will be the rest of <code>p</code>: <code>has_path(b, p[1:])</code>.</p>

<p><strong>What type of values do they return?</strong></p>

<p><code>has_path</code> always returns a <code>bool</code> value: <code>True</code> or <code>False</code>.</p>

<p><strong>What do the possible return values mean?</strong></p>

<p>If <code>has_path(b, p[1:])</code> returns <code>True</code>, then there is a path through branch <code>b</code>
for which <code>p[1:]</code> are the node labels.</p>

<p><strong>How can you use those return values to complete your implementation?</strong></p>

<p>If you have already checked that <code>label(t)</code> is equal to <code>p[0]</code>, then a <code>True</code>
return value means there is a path through <code>t</code> with labels <code>p</code> using that branch
<code>b</code>.  A <code>False</code> value means there is no path through that branch, but there
might be path through a different branch.
</div></p>


            
            <b>Your Answer</b>
            
            <div class="monaco-storable" id="has_path-input" style="height:504px;"></div>
            <a href="javascript:void" id="modal-link-has_path-input">Run in 61A Code</a>
            <div class="modal fade" id="modal-has_path-input" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content" style="padding-bottom: -5px">
                    <iframe
                        id="code-iframe-has_path-input"
                        width="100%"
                        height="700px"
                        style="border: none; display:block;"
                    ></iframe>
                    </div>
                </div>
            </div>
            <div class="storable-status"></div>
            <script>
                $(() => activateEditor('def has_path(t, p):\n    &quot;&quot;&quot;Return whether tree t has a path from the root with labels p.\n\n    &gt;&gt;&gt; t2 = tree(5, [tree(6), tree(7)])\n    &gt;&gt;&gt; t1 = tree(3, [tree(4), t2])\n    &gt;&gt;&gt; has_path(t1, [5, 6])        # This path is not from the root of t1\n    False\n    &gt;&gt;&gt; has_path(t2, [5, 6])        # This path is from the root of t2\n    True\n    &gt;&gt;&gt; has_path(t1, [3, 5])        # This path does not go to a leaf, but that&#x27;s ok\n    True\n    &gt;&gt;&gt; has_path(t1, [3, 5, 6])     # This path goes to a leaf\n    True\n    &gt;&gt;&gt; has_path(t1, [3, 4, 5, 6])  # There is no path with these labels\n    False\n    &quot;&quot;&quot;\n    if p == ____:  # when len(p) is 1\n        return True\n    elif label(t) != ____:\n        return False\n    else:\n        "*** YOUR CODE HERE ***"\n\n', "python", "has_path-input"));
            </script>
        
            <div class="sol-highlight">
                <b>Solution</b>
                
<pre><code>def has_path(t, p):
    &quot;&quot;&quot;Return whether tree t has a path from the root with labels p.

    &gt;&gt;&gt; t2 = tree(5, [tree(6), tree(7)])
    &gt;&gt;&gt; t1 = tree(3, [tree(4), t2])
    &gt;&gt;&gt; has_path(t1, [5, 6])        # This path is not from the root of t1
    False
    &gt;&gt;&gt; has_path(t2, [5, 6])        # This path is from the root of t2
    True
    &gt;&gt;&gt; has_path(t1, [3, 5])        # This path does not go to a leaf, but that&#x27;s ok
    True
    &gt;&gt;&gt; has_path(t1, [3, 5, 6])     # This path goes to a leaf
    True
    &gt;&gt;&gt; has_path(t1, [3, 4, 5, 6])  # There is no path with these labels
    False
    &quot;&quot;&quot;
    if p == [label(t)]:
        return True
    elif label(t) != p[0]:
        return False
    else:
        for b in branches(t):
            if has_path(b, p[1:]):
                return True
        return False
</code></pre>

            </div>
        

<div class="sol-highlight">

<p>The base case expression <code>p == [label(t)]</code> checks two things: that <code>p</code> has one item and that the item is equal to <code>label(t)</code>. Longer expressions (that don't fit the template) would also work, such as <code>if len(p) == 1 and p[0] == label(t)</code>.</p>

<p>The recursive case expresses that if a path through some branch <code>b</code> is labeled
<code>p[1:]</code>, then there is a path through <code>t</code> labeled <code>p</code>.</p>

</div>

<p>If your group needs some guidance, you can click on the hints below, but please
talk with your group first before reading the hints.</p>


        <button id='toggle-4' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Hint: Base Cases<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-4">
The first base case should check whether <code>p</code> is a list of length one with the
label of <code>t</code> as its only element.  The second base case should check if the
first element of <code>p</code> matches the label of <code>t</code>.
</div>


        <button id='toggle-5' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Hint: Recursive Case<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-5">
When entering the recursive case, your code should already have checked that
<code>p[0]</code> is equal to <code>label(t)</code>, and so all that's left to check is that <code>p[1:]</code>
contains the labels in a path through one of the branches.

<pre><code>for ____:
    if ____:
        return True
return False</code></pre>


</div>

<p>Your group is always welcome to ask for help in the <code>#discuss&#x2d;queue</code> channel.</p>

<div class="page-break"></div>


<h3 id="q3-find-path">Q3: Find Path</h3>


<p>Implement <code>find_path</code>, which takes a tree <code>t</code> with unique labels and a value
<code>x</code>. It returns a list containing the labels of the nodes along a path from the
root of <code>t</code> to a node labeled <code>x</code>.</p>

<p>If <code>x</code> is not a label in <code>t</code>, return <code>None</code>. Assume that the labels of <code>t</code> are unique.</p>

<p>First talk through how to make and use the recursive call.
(Try it yourselves; don't just click the hint button. That's how you learn.)</p>


        <button id='toggle-6' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Hint: Describing the Recursive Call<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-6">
<strong>What recursive calls will you make?</strong>

<p><code>find_path(b, x)</code> on each branch <code>b</code>.</p>

<p><strong>What type of values do they return?</strong></p>

<p>Each recursive call will either return <code>None</code> or a non-empty list of node labels.</p>

<p><strong>What do the possible return values mean?</strong></p>

<p>If <code>find_path(b, x)</code> returns <code>None</code>, then <code>x</code> does not appear in <code>b</code>. If
<code>find_path(b, x)</code> returns a list, then it contains the node labels for a path
through <code>b</code> that ends with the node labeled <code>x</code>.</p>

<p><strong>How can you use those return values to complete your implementation?</strong></p>

<p>If a list is returned, then it contains all of the labels in the path except
<code>label(t)</code>, which must be placed at the front.
</div></p>


            
            <b>Your Answer</b>
            
            <div class="monaco-storable" id="find_path-input" style="height:432px;"></div>
            <a href="javascript:void" id="modal-link-find_path-input">Run in 61A Code</a>
            <div class="modal fade" id="modal-find_path-input" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content" style="padding-bottom: -5px">
                    <iframe
                        id="code-iframe-find_path-input"
                        width="100%"
                        height="700px"
                        style="border: none; display:block;"
                    ></iframe>
                    </div>
                </div>
            </div>
            <div class="storable-status"></div>
            <script>
                $(() => activateEditor('def find_path(t, x):\n    &quot;&quot;&quot;\n    &gt;&gt;&gt; t2 = tree(5, [tree(6), tree(7)])\n    &gt;&gt;&gt; t1 = tree(3, [tree(4), t2])\n    &gt;&gt;&gt; find_path(t1, 5)\n    [3, 5]\n    &gt;&gt;&gt; find_path(t1, 4)\n    [3, 4]\n    &gt;&gt;&gt; find_path(t1, 6)\n    [3, 5, 6]\n    &gt;&gt;&gt; find_path(t2, 6)\n    [5, 6]\n    &gt;&gt;&gt; print(find_path(t1, 2))\n    None\n    &quot;&quot;&quot;\n    if ____:\n        return ____\n    ____:\n        path = ____\n        if ____:\n            return ____\n    return None\n', "python", "find_path-input"));
            </script>
        
            <div class="sol-highlight">
                <b>Solution</b>
                
<pre><code>def find_path(t, x):
    &quot;&quot;&quot;
    &gt;&gt;&gt; t2 = tree(5, [tree(6), tree(7)])
    &gt;&gt;&gt; t1 = tree(3, [tree(4), t2])
    &gt;&gt;&gt; find_path(t1, 5)
    [3, 5]
    &gt;&gt;&gt; find_path(t1, 4)
    [3, 4]
    &gt;&gt;&gt; find_path(t1, 6)
    [3, 5, 6]
    &gt;&gt;&gt; find_path(t2, 6)
    [5, 6]
    &gt;&gt;&gt; print(find_path(t1, 2))
    None
    &quot;&quot;&quot;
    if label(t) == x:
        return [label(t)]
    for b in branches(t):
        path = find_path(b, x)
        if path:
            return [label(t)] + path
    return None</code></pre>

            </div>
        

<div class="sol-highlight">
The base case return value <code>[label(t)]</code> creates a one-element list of the labels along a path that starts at the root of <code>t</code> and also ends there, since the root is labeled <code>x</code>.

<p>The assignment <code>path = find_path(b, x)</code> allows the return value of this recursive call to be used twice: once to check if it's <code>None</code> (which is a false value) and again to build a longer list.</p>

<p>The expression <code>[label(t)] + path</code> for a tree <code>t</code> and list <code>path</code> creates a longer list that starts with the label of <code>t</code> and continues with the elements of <code>path</code>.</p>

</div>

<p>Please don't view the hints until you've discussed with your group and can't make progress.</p>


        <button id='toggle-7' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Hint: Base Case<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-7">
If <code>x</code> is the label of <code>t</code>, then return a list with one element that contains the label of <code>t</code>.

</div>


        <button id='toggle-8' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Hint: Recursive Case<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-8"> Assign <code>path</code> to the result of a
recursive call to <code>find_path(b, x)</code> so that you can both check whether it's
<code>None</code> and extend it if it's a list.

<p>For a list <code>path</code> and a value <code>v</code>, the expression <code>[v] + path</code> creates a longer
list that starts with <code>v</code> and then has the elements of <code>path</code>.
</div></p>

<p><strong>Description Time!</strong> When your group has completed this question, it's time to
describe why this function does not have a base case that uses <code>is_leaf</code>. Come
up with an explanation as a group, pick someone to present your answer, and then
send a message to the discuss-queue channel with the @discuss tag, your
discussion group number, and the message "Found it!" and a member of the course
staff will join your voice channel to hear your description and give feedback.</p>

<div class="page-break"></div>


<h1 id="challenge-question">Challenge Question</h1>


<p>If you have time, work on this more challenging tree processing problem as a
group. When there's only 5 minutes left, skip ahead to the Document the Occasion
section.</p>

<p>The <code>print_tree</code> function from the lecture videos (used in the doctests below)
prints all of the labels of a tree.</p>

<pre><code>&gt;&gt;&gt; print_tree(t1)
3
  4
  5
    6
    7</code></pre>




        <button id='toggle-9' class='btn btn-outline btn-lg alwaystoggle toggle'>
        View print_tree definition<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-9">

<pre><code class="python">def print_tree(t, indent=0):
    &quot;&quot;&quot;Print a representation of this tree in which
    each label is indented by two spaces times its
    depth from the root.

    &gt;&gt;&gt; print_tree(tree(1))
    1
    &gt;&gt;&gt; print_tree(tree(1, [tree(2)]))
    1
      2
    &gt;&gt;&gt; print_tree(fib_tree(4))
    3
      1
        0
        1
      2
        1
        1
          0
          1
    &quot;&quot;&quot;
    print(&#x27;  &#x27; * indent + str(label(t)))
    for b in branches(t):
        print_tree(b, indent + 1)

def fib_tree(n):
    &quot;&quot;&quot;Construct a Fibonacci tree.

    &gt;&gt;&gt; fib_tree(5)
    [5, [2, [1], [1, [0], [1]]], [3, [1, [0], [1]], [2, [1], [1, [0], [1]]]]]
    &quot;&quot;&quot;
    if n == 0 or n == 1:
        return tree(n)
    else:
        left = fib_tree(n&#x2d;2)
        right = fib_tree(n&#x2d;1)
        fib_n = label(left) + label(right)
        return tree(fib_n, [left, right])</code></pre>


</div>


<h3 id="q4-make-path">Q4: Make Path</h3>


<p>Implement <code>make_path</code>, which takes a tree <code>t</code> with unique labels and a list <code>p</code>
that starts with the root label of <code>t</code>. It returns the tree <code>u</code> with the fewest
nodes for which <code>has_path(u, p)</code> returns <code>True</code> <strong>and</strong> <code>has_path(u, q)</code> returns
<code>True</code> for all lists <code>q</code> for which <code>has_path(t, q)</code> returns <code>True</code>.
(That is, <code>u</code> has all the paths of <code>t</code> as well as a path with labels <code>p</code>.)</p>

<p>Each node in <code>u</code> that does not correspond to a node in <code>t</code> should be placed last
in its parent's list of branches. Assume that the labels of <code>t</code> are unique.
If <code>has_path(t, p)</code>, then <code>make_path(t, p)</code> should return a tree identical (in
structure and labels) to <code>t</code>.</p>


            
            <b>Your Answer</b>
            
            <div class="monaco-storable" id="make_path-input" style="height:936px;"></div>
            <a href="javascript:void" id="modal-link-make_path-input">Run in 61A Code</a>
            <div class="modal fade" id="modal-make_path-input" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content" style="padding-bottom: -5px">
                    <iframe
                        id="code-iframe-make_path-input"
                        width="100%"
                        height="700px"
                        style="border: none; display:block;"
                    ></iframe>
                    </div>
                </div>
            </div>
            <div class="storable-status"></div>
            <script>
                $(() => activateEditor('def make_path(t, p):\n    &quot;&quot;&quot;Return a tree with all of the nodes of t and a path with labels p.\n\n    &gt;&gt;&gt; t2 = tree(5, [tree(6), tree(7)])\n    &gt;&gt;&gt; t1 = tree(3, [tree(4), t2])\n    &gt;&gt;&gt; make_path(t1, [3, 5, 7]) == t1\n    True\n    &gt;&gt;&gt; print_tree(make_path(t1, [3, 8, 9, 1]))\n    3\n      4\n      5\n        6\n        7\n      8\n        9\n          1\n    &gt;&gt;&gt; print_tree(make_path(t1, [3, 4, 8, 9]))\n    3\n      4\n        8\n          9\n      5\n        6\n        7\n    &gt;&gt;&gt; print_tree(make_path(tree(2, [tree(1), t1]), [2, 3, 5, 6, 8]))\n    2\n      1\n      3\n        4\n        5\n          6\n            8\n          7\n    &quot;&quot;&quot;\n    assert p[0] == label(t), &#x27;It is not possible to make this path&#x27;\n    if len(p) == 1:\n        return ____\n    new_branches = []\n    found_p1 = False\n    for b in branches(t):\n        if ____:\n            "*** YOUR CODE HERE ***"\n        else:\n            new_branches.append(b)\n    if not found_p1:\n        new_branches.append(make_path(____, ____))\n    return tree(____, new_branches)\n\n', "python", "make_path-input"));
            </script>
        
            <div class="sol-highlight">
                <b>Solution</b>
                
<pre><code>def make_path(t, p):
    &quot;&quot;&quot;Return a tree with all of the nodes of t and a path with labels p.

    &gt;&gt;&gt; t2 = tree(5, [tree(6), tree(7)])
    &gt;&gt;&gt; t1 = tree(3, [tree(4), t2])
    &gt;&gt;&gt; make_path(t1, [3, 5, 7]) == t1
    True
    &gt;&gt;&gt; print_tree(make_path(t1, [3, 8, 9, 1]))
    3
      4
      5
        6
        7
      8
        9
          1
    &gt;&gt;&gt; print_tree(make_path(t1, [3, 4, 8, 9]))
    3
      4
        8
          9
      5
        6
        7
    &gt;&gt;&gt; print_tree(make_path(tree(2, [tree(1), t1]), [2, 3, 5, 6, 8]))
    2
      1
      3
        4
        5
          6
            8
          7
    &quot;&quot;&quot;
    assert p[0] == label(t), &#x27;It is not possible to make this path&#x27;
    if len(p) == 1:
        return t
    new_branches = []
    found_p1 = False
    for b in branches(t):
        if label(b) == p[1]:
            new_branches.append(make_path(b, p[1:]))
            found_p1 = True
        else:
            new_branches.append(b)
    if not found_p1:
        new_branches.append(make_path(tree(p[1]), p[1:]))
    return tree(label(t), new_branches)
</code></pre>

            </div>
        

<div class="sol-highlight">

<p>Because of the <code>assert</code>, the base case condition <code>len(p) == 1</code> is enough to confirm that <code>p == [label(t)]</code>. In this case, there are no additional nodes needed to ensure that a path labeled <code>p</code> is in <code>t</code>.</p>

<p>To minimize the number of nodes added to the tree, first we look for a branch that can be extended.  The name <code>found_p1</code> will determine whether to add an additional branch to <code>new_branches</code> that does not correspond to a branch in <code>branches(t)</code>. Updating it to <code>True</code> when a branch is found with <code>label(b) == p[1]</code> ensures that the path is added only to this branch.</p>

</div>


        <button id='toggle-10' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Hint: Describing the Recursive Call<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-10">

<p><strong>What recursive calls will you make?</strong></p>

<p><code>make_path(b, p[1:])</code> can only be called on a <code>b</code> whose label is <code>p[1]</code>. You
either find such a branch or make one with <code>tree(p[1])</code>.</p>

<p><strong>What type of values do they return?</strong></p>

<p>The recursive call returns a tree that contains a path with labels <code>p[1:]</code>.</p>

<p><strong>What do the possible return values mean?</strong></p>

<p>This return value is a branch of the tree returned by <code>make_path(t, p)</code>.</p>

<p><strong>How can you use those return values to complete your implementation?</strong></p>

<p>Place the return value in the list of <code>new_branches</code>.</p>

</div>


        <button id='toggle-11' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Hint: Base Case<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-11">

<p>Since you've already asserted that <code>p[0] == label(t)</code>, if <code>p</code> has length 1 then
<code>t</code> contains a path with labels <code>p</code>, so you can just return <code>t</code>.</p>

</div>


        <button id='toggle-12' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Hint: Recursive Case<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-12">

<p>If <code>p[1]</code> is a label of a branch, then a path should be made
through that branch. Otherwise, a new branch must be made.</p>

<p>Search through each branch to find one whose label is <code>p[1]</code>, then append the
result of a recursive call on that branch to <code>new_branches</code>.</p>

<p>In the case that no branch has label <code>p[1]</code>, create a new branch with
<code>tree(p[1])</code>, use <code>make_path</code> to build the rest of the branch, and append that
result to <code>new_branches</code>.</p>

</div>

<div class="page-break"></div>


<h1 id="document-the-occasion">Document the Occasion</h1>


<p>For each person, the rest of the group should try to guess their <em>big word</em>
(from the Getting Started section). The group only gets one guess. After they
guess, reveal your <em>big word</em> and how many times you used it during discussion.
Post the winning word (the one that was not guessed but used the most times) in
your group's <a href="https://support.discord.com/hc/en-us/articles/4412085582359-Text-Channels-Text-Chat-In-Voice-Channels#h_01FMJT412WBX1MR4HDYNR8E95X">channel's text chat</a>.</p>

<p>Please all fill out the <a href="https://forms.gle/JBrrvsn7m959Rx9KA">attendance form</a>
(one submission per person per week).</p>
<script>
    $('.alwaystoggle').css('display', 'inline-block');
    $('.alwaystoggle').click(function() {
      var solution_id = $(this).attr('id');
      $('div.' + solution_id).slideToggle(600);
    });
</script>

  </div>

  <div class='col-md-3 sticky'>
    <nav class='hidden-print hidden-sm hidden-xs sidebar'>
      <ul>
  <li><a href="#getting-started">Getting Started</a></li>
  <li><a href="#trees">Trees</a></li>
  <ul>
    <li><a href="#q1-warm-up">Q1: Warm Up</a></li>
    <li><a href="#q2-has-path">Q2: Has Path</a></li>
    <li><a href="#q3-find-path">Q3: Find Path</a></li>
  </ul>
  <li><a href="#challenge-question">Challenge Question</a></li>
  <ul>
    <li><a href="#q4-make-path">Q4: Make Path</a></li>
  </ul>
  <li><a href="#document-the-occasion">Document the Occasion</a></li>
</ul>
    </nav>
  </div>
</div>

    </main>

    <footer class="container">
      <div class="row text-center">
        <div class="col col-sm-4">
          <h3><a href="/">CS 61A</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/weekly">Weekly Schedule</a></li>
            <li><a href="/office-hours">Office Hours</a></li>
            <li><a href="/staff">Staff</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="/resources">Resources</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/articles/studying">Studying Guide</a></li>
            <li><a href="/articles/debugging">Debugging Guide</a></li>
            <li><a href="/articles/composition">Composition Guide</a></li>
            <li><a href="/articles/pair-programming">Pair Programming</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="/articles/about">Policies</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/articles/about#assignments">Assignments</a></li>
            <li><a href="/articles/about#exams">Exams</a></li>
            <li><a href="/articles/about#grading">Grading</a></li>
          </ul>
        </div>
      </div>
    </footer>

    

    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/loader.min.js"></script>
  <link rel="stylesheet" data-name="vs/editor/editor.main" href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/editor/editor.main.min.css">
  <script>
      require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs' }});
      window.MonacoEnvironment = { getWorkerUrl: () => URL.createObjectURL(new Blob([`
      self.MonacoEnvironment = {
          baseUrl: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min'
      };
      importScripts('https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/base/worker/workerMain.min.js');
  `], { type: 'text/javascript' }))
  };
  </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsPlumb/2.15.5/js/jsplumb.min.js"></script>
    <script src="/assets/js/network_storage.js"></script>
    <script src="/assets/js/storable.js"></script>
    <script src="/assets/js/editor.js"></script>
    <script src="/assets/js/copy-button.js"></script>
    <script src="/assets/js/env-diagram.js"></script>
    
<script src="/assets/js/sketchy.js"></script>
<script>
  $('.sidebar ul').addClass('nav nav-stacked noselect');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });

  function goToId(id) {
    var target = $(id);
    target.parent().show();
    $('html,body').animate({
      scrollTop: target.offset().top,
    }, 100);
    $("body").scrollspy('refresh');
  }

  if (location.hash) {
    setTimeout(function() {
      if (location.hash) {
        goToId(location.hash);
      }
    }, 1);
  }

  $("a").click(function(event) {
    var urlBeforeHashRegEx = new RegExp("^"+window.location.href.split("#")[0]);
    if (/^#/.test(this.hash) && urlBeforeHashRegEx.test(this.href)) {
      event.preventDefault();
      goToId(this.hash);
      document.location.hash = this.hash;
    }
  });
</script>

  </body>
</html>